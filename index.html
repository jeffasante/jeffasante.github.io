<!DOCTYPE html>
<html lang="en">

<head>
  <title>Jeffrey Asante - Portfolio</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Portfolio of Jeffrey Asante. AI, Software Engineering, Data Science." />
  <meta name="theme-color" content="#ffffff" />
  <meta name="color-scheme" content="light" />

  <link rel="canonical" href="https://jeffasante.github.io/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Jeffrey Asante" />
  <meta property="og:title" content="Jeffrey Asante - Portfolio" />
  <meta property="og:description" content="Portfolio of Jeffrey Asante. AI, Software Engineering, Data Science." />
  <meta property="og:url" content="https://jeffasante.github.io/" />
  <meta property="og:image" content="https://jeffasante.github.io/assets/image/mantra.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Jeffrey Asante - Portfolio" />
  <meta name="twitter:description" content="Portfolio of Jeffrey Asante. AI, Software Engineering, Data Science." />

  <link rel="icon" type="image/png" href="assets/image/mantra.png" />
  <link rel="apple-touch-icon" href="assets/image/mantra.png" />
  <link rel="preload" href="assets/Chillax_Complete/Fonts/WEB/fonts/Chillax-Variable.woff2" as="font"
    type="font/woff2" crossorigin />

  <link rel="stylesheet" href="styles.css" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-70RBJL50PC"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-70RBJL50PC');
  </script>
</head>

<body id="top">
  <a class="skip-link" href="#main">Skip to content</a>
  <div class="container">
    <header>
      <a class="logo" href="#top">Jeffrey Oduro Asante</a>
      <nav>
        <a href="#apps">Apps</a>
        <a href="#experience">Work</a>
        <a href="#projects">Labs</a>
        <a href="#skills">Meta</a>
        <button type="button" id="cv-button" class="nav-button">CV</button>
      </nav>
    </header>

    <main id="main" tabindex="-1">
      <section class="intro">
        Architecting on-device AI <br/>
        & intelligent systems.
      </section>

      <section id="about">
        <h2 class="section-title">About Me</h2>
        <div class="about-content">
          <p>
            Software and machine learning engineer architecting mobile and full-stack systems with Python, Rust, Go, and
            JavaScript. Specialized in on-device AI, reinforcement learning, computer vision, and NLP with proven
            results: 98% model size reduction and 80% accuracy improvements. Open-source contributor exploring game
            development.
            <!-- Software and machine learning engineer building full-stack systems with Python, Rust, Go, and JavaScript.
            Specialized in reinforcement learning, computer vision, recommendation systems (RecSys),
            (NLP), and bioinformatics with proven results: 98% model size reduction and 80% accuracy improvements.
            Open-source contributor exploring game development. -->
            <!-- I’m a multidisciplinary machine learning and software engineer, as
              well as an open-source developer, with experience in reinforcement
              learning, computer vision (CV), recommendation systems (RecSys),
              natural language processing (NLP), and bioinformatics. I build
              full-stack ML systems using Python, Rust, Go, and
              JavaScript—ranging from RL agents and neural networks to
              data-driven web apps. My strengths lie in cross-domain thinking,
              performance-focused coding, and end-to-end project delivery. I am
              also currently learning and building in the game development
              space. -->
          </p>

          <p class="location-info">GHANA (REMOTE) <a href="https://calendar.app.google/XyTcM2zrEiDArhZ9A" target="_blank"
              rel="noopener noreferrer" class="availability-badge">AVAILABLE TO WORK</a></p>

          <div class="contact-links">
            <a href="mailto:jeffaoduro@gmail.com">Email</a>
            <a href="https://github.com/jeffasante" target="_blank" rel="noopener noreferrer">GitHub</a>
            <a href="https://www.linkedin.com/in/jeffrey-asante-a69440231/" target="_blank"
              rel="noopener noreferrer">LinkedIn</a>
            <a href="https://stackoverflow.com/users/13482983/jeffasante" target="_blank"
              rel="noopener noreferrer">Stack Overflow</a>
            <a href="https://calendar.app.google/XyTcM2zrEiDArhZ9A" target="_blank"
              rel="noopener noreferrer">Consultation</a>
          </div>
        </div>
      </section>

      <section id="skills">
        <h2 class="section-title">Core Skills</h2>
        <p class="skill-list">
          <strong>Languages:</strong> PYTHON, GO, RUST, C/C++, JAVASCRIPT, SWIFT, KOTLIN
        </p>
        <p class="skill-list">
          <strong>Frameworks:</strong> FLUTTER, REACT NATIVE, PYTORCH, TENSORFLOW, JAX
        </p>
        <p class="skill-list">
          <strong>Specializations:</strong> WEBASSEMBLY, NLP, COMPUTER VISION, DEEP LEARNING, REINFORCEMENT LEARNING,
          SIGNAL PROCESSING, DATA SCIENCE, SOFTWARE ARCHITECTURE, MOBILE/WEB DEVELOPMENT, GAME DEVELOPMENT, CLOUD
          COMPUTING, CI/CD, DATA STRUCTURES & ALGORITHMS
        </p>
      </section>


      <section id="experience">
        <h2 class="section-title">Experience</h2>
        <div class="item-list">
          <div class="item">
            <div class="item-header">
              <h3>Software Engineer (AI + ML) / Mobobi LLC</h3>
              <span>JUN 2023 - NOV 2025</span>
              <!-- <span>JUN 2023 - PRESENT</span> -->
            </div>
            <p>
              Architected and deployed the full stack for Abena AI, an offline-capable voice assistant bringing speech
              recognition, text-to-speech, video dubbing, and translation to African languages. Developed cross-platform
              SDK, optimized models for 98% size reduction (2GB → 18MB), and built data collection infrastructure for
              low-resource languages including Twi, Ghana Pidgin, Yoruba, Swahili, Hausa etc.
            </p>
          </div>
          <div class="item">
            <div class="item-header">
              <h3>Data Scientist / Freelance</h3>
              <span>DEC 2021 - PRESENT</span>
            </div>
            <p>
              Improved data-gathering systems and reporting tools, enhancing
              prediction accuracy by 80% using advanced statistical methods.
              Built data-driven web applications and consulted graduates on
              technical research papers.
            </p>
          </div>
          <div class="item">
            <div class="item-header">
              <h3>AI Developer / Zinary</h3>
              <span>JAN 2024 - MAY 2024</span>
            </div>
            <p>
              Enhanced a biometric system using OCR and computer vision for
              multi-country compatibility. Improved facial recognition
              accuracy by 80% and engineered a scalable backend architecture
              for real-time analysis.
            </p>
          </div>
          <div class="item">
            <div class="item-header">
              <h3>Co-Founder / Anaanse</h3>
              <span>OCT 2021 - OCT 2022</span>
            </div>
            <p>
              Co-founded a student/graduate job platform, leading full-stack
              development (Node.js, React, MongoDB) from MVP to production.
              Increased user retention by 40% through data-driven feature
              optimization.
            </p>
          </div>
        </div>
      </section>

      <section id="apps">
        <h2 class="section-title">Published Apps</h2>
        <div class="item-list">

          <div class="item">
            <div class="item-header">
              <h3>Cue</h3>
              <div class="tags">MOBILE / CINEMA CURATION</div>
            </div>
            <p>
              Get movie recommendations based on your unique taste. Cue is a local-first cinema system that prioritizes data privacy and performance. It leverages a fully on-device architecture for instantaneous access, seamlessly intercepts cross-app sharing intents for automated indexing, and features an embedded analytical engine for personalized, offline recommendations.
            </p>
            <a class="item-link" href="https://getcue.netlify.app/" target="_blank" rel="noopener noreferrer">VIEW →</a>
          </div>

          <div class="item">
            <div class="item-header">
              <h3>Nudge</h3>
              <div class="tags">MOBILE / HYPER-LOCAL</div>
            </div>
            <p>
              Nudge is a high-performance, location-aware reminder system engineered with a focus on precision and on-device processing. It utilizes background geofencing and motion sensors to trigger notifications with minimal battery impact, ensuring a privacy-first experience without cloud dependencies.
            </p>
            <a class="item-link" href="https://getnudge.netlify.app/" target="_blank" rel="noopener noreferrer">VIEW →</a>
          </div>
          <div class="item">
            <div class="item-header">
              <h3>tink.</h3>
              <div class="tags">MOBILE / AR/AI</div>
            </div>
            <p>
              tink is an on-device computer vision and augmented reality framework. It features an optimized inference engine for local background removal, depth map generation, and image upscaling, alongside experimental motion-tracking and gyroscope-based physics integration for spatial computing explorations.
            </p>
            <a class="item-link" href="https://tinkapp.netlify.app/" target="_blank" rel="noopener noreferrer">VIEW →</a>
          </div>
          <div class="item">
            <div class="item-header">
              <h3>Tapes</h3>
              <div class="tags">MOBILE / MUSIC MANAGEMENT</div>
            </div>
            <p>
              Tapes is a multi-threaded audio management utility and high-performance player architected for large asset libraries. It replaces traditional playlist structures with a project-based filing system, optimized for low-latency playback and efficient metadata extraction for audio professionals.
            </p>
            <a class="item-link" href="https://gettapes.netlify.app/" target="_blank" rel="noopener noreferrer">LAUNCH APP →</a>
          </div>
          <div class="item">
            <div class="item-header">
              <h3>Pathly</h3>
              <div class="tags">MOBILE / PUZZLE GAME</div>
            </div>
            <p>
              Pathly is a physics-inspired tile-slide puzzle engine featuring a custom level generation algorithm and state-based game logic. It manages 300+ procedurally validated challenges and a real-time leaderboard system, optimized for smooth performance across mobile platforms.
            </p>
            <a class="item-link" href="https://pathly.netlify.app/" target="_blank" rel="noopener noreferrer">VIEW →</a>
            <a class="item-link" href="https://apps.apple.com/us/app/pathly-puzzle/id6756085161" target="_blank" rel="noopener noreferrer">APP STORE →</a>
          </div>
          <div class="item">
            <div class="item-header">
              <h3>BigSpender Budget</h3>
              <div class="tags">MOBILE / FINANCE</div>
            </div>
            <p>
              AI-driven financial utility featuring predictive safe-to-spend algorithms, automated expense classification, and a high-accuracy receipt OCR engine. Built with a local-first architecture to ensure data persistence and privacy.
            </p>
            <a class="item-link" href="https://bigspenderbudget.netlify.app/" target="_blank" rel="noopener noreferrer">VIEW →</a>
            <a class="item-link" href="https://apps.apple.com/app/bigspender-budget/id6754263659" target="_blank" rel="noopener noreferrer">APP STORE →</a>
          </div>

          <div class="item">
            <div class="item-header">
              <h3>Stash</h3>
              <div class="tags">MACOS / PRODUCTIVITY</div>
            </div>
            <p>
              A high-utility productivity staging area for macOS featuring a sandboxed media processing pipeline. It implements advanced quick actions including OCR and background removal through a low-latency floating panel interface.
            </p>
            <a class="item-link" href="https://stash-desktop.netlify.app" target="_blank" rel="noopener noreferrer">VIEW
              →</a>
            <a class="item-link" href="https://apps.apple.com/app/stash-clipboard-shelf/id6752602271" target="_blank"
              rel="noopener noreferrer">APP STORE →</a>
          </div>

          <div class="item">
            <div class="item-header">
              <h3>idX - AI Inventory</h3>
              <div class="tags">iOS / ON-DEVICE AI</div>
            </div>
            <p>
              Your on-device AI inventory system. Scan any item with AI to instantly build your personal inventory.
              Track value, expiry dates, and location - all offline and private.
            </p>
            <a class="item-link" href="https://idx-support.netlify.app/" target="_blank"
              rel="noopener noreferrer">VIEW →</a>
            <a class="item-link" href="https://apps.apple.com/app/idx/id6751609886" target="_blank"
              rel="noopener noreferrer">APP STORE →</a>
          </div>

          <div class="item">
            <div class="item-header">
              <h3>SharkX</h3>
              <div class="tags">MACOS / INTERVIEW TOOL</div>
            </div>
            <p>
              Live app monitoring for seamless interviews. Provides complete transparency for remote interviews through
              real-time application monitoring with overlay support and smart automation.
            </p>
            <a class="item-link" href="https://sharkx.netlify.app/" target="_blank" rel="noopener noreferrer">LAUNCH APP
              →</a>
          </div>

          <div class="item">
            <div class="item-header">
              <h3>SlimeArcade</h3>
              <div class="tags">MOBILE GAME / PHYSICS</div>
            </div>
            <p>
              Jump into Slime Volleyball - challenge a clever CPU opponent in a bouncy, physics-based volleyball match.
              Simple controls, real challenge. Both Android/IOS.
            </p>
            <a class="item-link" href="https://apps.apple.com/app/slime-arcade/id6751785505" target="_blank"
              rel="noopener noreferrer">APP STORE →</a>
          </div>

          <!-- <div class="item">
            <div class="item-header">
              <h3>Toot</h3>
              <div class="tags">iOS / SIGNAL PROCESSING</div>
            </div>
            <p>
              Send messages through waves using frequency modulation. Communicate with nearby devices without
              bluetooth, wifi, internet or cellular connection. AVAILABLE ON TESTFLIGHT now!
            </p>
            <a class="item-link" href="http://tootme.netlify.app" target="_blank" rel="noopener noreferrer">VIEW →</a>
          </div> -->


        </div>
      </section>

      <section id="projects">
        <h2 class="section-title">Featured Projects</h2>
        <div id="featured-projects-list" class="item-list">
          <p class="loading-text">Loading featured projects...</p>
        </div>
      </section>

      <div class="view-more-container">
        <button id="view-projects-button" class="action-button">
          View All Projects on GitHub
        </button>
      </div>
    </main>

    <footer>
      <img src="assets/image/mantra.png" alt="footprint" class="footer-logo" />
      <span>© 2026 JEFFREY ASANTE</span>
      <!-- <span>Visitors: <span id="visitor-count">Loading...</span></span> -->
    </footer>
  </div>

  <!-- Project Modal Structure -->
  <div id="project-modal" class="modal" aria-hidden="true">
    <div class="modal-overlay"></div>
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="project-modal-title">
      <button class="modal-close-button" type="button" aria-label="Close">×</button>
      <h2 id="project-modal-title">GitHub Projects</h2>
      <div class="filter-controls">
        <label for="language-filter">Filter by Language:</label>
        <select id="language-filter">
          <option value="">All Languages</option>
        </select>
        <label for="sort-filter">Sort by:</label>
        <select id="sort-filter">
          <option value="updated">Most Recent</option>
          <option value="stars">Most Stars</option>
          <option value="forks">Most Forks</option>
        </select>
      </div>
      <div id="modal-project-list" class="modal-project-list">
        <!-- Projects will be loaded here -->
      </div>
      <div id="pagination-controls" class="pagination-controls">
        <button id="prev-page" class="pagination-button" disabled>Previous</button>
        <span id="page-info">Page 1</span>
        <button id="next-page" class="pagination-button">Next</button>
      </div>
    </div>
  </div>

  <!-- README Modal Structure -->
  <div id="readme-modal" class="modal" aria-hidden="true">
    <div class="modal-overlay"></div>
    <div class="modal-content readme-modal-content" role="dialog" aria-modal="true" aria-labelledby="readme-modal-title">
      <button class="modal-close-button" type="button" aria-label="Close">×</button>
      <h2 id="readme-modal-title">README</h2>
      <div id="readme-modal-content" class="readme-content">
        <!-- README content will be loaded here -->
      </div>
    </div>
  </div>

  <!-- CV Modal Structure -->
  <div id="cv-modal" class="modal" aria-hidden="true">
    <div class="modal-overlay"></div>
    <div class="modal-content cv-modal-content" role="dialog" aria-modal="true" aria-labelledby="cv-modal-title">
      <button class="modal-close-button" type="button" aria-label="Close">×</button>
      <h2 id="cv-modal-title">Select Professional Track</h2>
      <div class="cv-options">
        <div class="cv-option">
          <span class="cv-name">Software Engineer</span>
          <div class="cv-actions">
            <button class="cv-action-btn preview" data-type="software-engineer">Preview</button>
            <button class="cv-action-btn print" data-type="software-engineer">Print</button>
          </div>
        </div>
        <div class="cv-option">
          <span class="cv-name">Data Scientist</span>
          <div class="cv-actions">
            <button class="cv-action-btn preview" data-type="data-science">Preview</button>
            <button class="cv-action-btn print" data-type="data-science">Print</button>
          </div>
        </div>
        <div class="cv-option">
          <span class="cv-name">Data Engineer</span>
          <div class="cv-actions">
            <button class="cv-action-btn preview" data-type="data-engineering">Preview</button>
            <button class="cv-action-btn print" data-type="data-engineering">Print</button>
          </div>
        </div>
        <div class="cv-option">
          <span class="cv-name">AI Engineer</span>
          <div class="cv-actions">
            <button class="cv-action-btn preview" data-type="ai-engineer">Preview</button>
            <button class="cv-action-btn print" data-type="ai-engineer">Print</button>
          </div>
        </div>
        <div class="cv-option">
          <span class="cv-name">AI/ML Software Engineer</span>
          <div class="cv-actions">
            <button class="cv-action-btn preview" data-type="ai-ml-software">Preview</button>
            <button class="cv-action-btn print" data-type="ai-ml-software">Print</button>
          </div>
        </div>
        <div class="cv-option">
          <span class="cv-name">Mobile App Developer</span>
          <div class="cv-actions">
            <button class="cv-action-btn preview" data-type="mobile-developer">Preview</button>
            <button class="cv-action-btn print" data-type="mobile-developer">Print</button>
          </div>
        </div>
        <div class="cv-option">
          <span class="cv-name">Web App Developer</span>
          <div class="cv-actions">
            <button class="cv-action-btn preview" data-type="web-developer">Preview</button>
            <button class="cv-action-btn print" data-type="web-developer">Print</button>
          </div>
        </div>
        <div class="cv-option">
          <span class="cv-name">Backend Developer</span>
          <div class="cv-actions">
            <button class="cv-action-btn preview" data-type="backend-developer">Preview</button>
            <button class="cv-action-btn print" data-type="backend-developer">Print</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- CV Preview Modal -->
  <div id="cv-preview-modal" class="modal" aria-hidden="true">
    <div class="modal-overlay"></div>
    <div class="modal-content cv-preview-modal-content" role="dialog" aria-modal="true" aria-labelledby="cv-preview-title">
      <button class="modal-close-button" type="button" aria-label="Close">×</button>
      <div class="cv-preview-header">
        <h2 id="cv-preview-title">CV Preview</h2>
        <button id="cv-preview-print" class="action-button">Print CV</button>
      </div>
      <div id="cv-preview-content" class="cv-preview-body">
        <!-- CV content will be rendered here -->
      </div>
    </div>
  </div>

  <script>
    // --- Small helpers (a11y + caching) ---
    const FOCUSABLE_SELECTOR =
      'a[href], button, input, select, textarea, [tabindex]:not([tabindex="-1"])';

    const getCachedValue = (key, maxAgeMs) => {
      try {
        const raw = localStorage.getItem(key);
        if (!raw) return null;
        const parsed = JSON.parse(raw);
        if (!parsed || typeof parsed !== 'object') return null;
        const age = Date.now() - (parsed.ts || 0);
        if (age < 0 || age > maxAgeMs) return null;
        return parsed.value ?? null;
      } catch {
        return null;
      }
    };

    const setCachedValue = (key, value) => {
      try {
        localStorage.setItem(key, JSON.stringify({ ts: Date.now(), value }));
      } catch {
        // Ignore quota errors / disabled storage
      }
    };

    const modalStack = [];
    const getActiveModal = () => modalStack.length ? modalStack[modalStack.length - 1].modalEl : null;

    const openDialog = (modalEl, triggerEl) => {
      modalStack.push({
        modalEl,
        triggerEl: triggerEl || document.activeElement,
      });

      modalEl.style.display = 'flex';
      modalEl.setAttribute('aria-hidden', 'false');
      document.body.classList.add('modal-open');

      const firstFocusable = modalEl.querySelector(FOCUSABLE_SELECTOR);
      (firstFocusable || modalEl).focus({ preventScroll: true });
    };

    const closeDialog = (modalEl) => {
      if (!modalEl) return;

      const index = modalStack.map(m => m.modalEl).lastIndexOf(modalEl);
      if (index === -1) return;
      const wasTop = index === modalStack.length - 1;
      const [{ triggerEl }] = modalStack.splice(index, 1);

      modalEl.style.display = 'none';
      modalEl.setAttribute('aria-hidden', 'true');

      if (modalStack.length === 0) {
        document.body.classList.remove('modal-open');
      }

      if (wasTop && triggerEl && typeof triggerEl.focus === 'function') {
        triggerEl.focus({ preventScroll: true });
      }
    };

    document.addEventListener('keydown', (e) => {
      const activeModalEl = getActiveModal();
      if (!activeModalEl) return;

      if (e.key === 'Escape') {
        e.preventDefault();
        closeDialog(activeModalEl);
        return;
      }

      if (e.key !== 'Tab') return;

      const focusables = Array.from(activeModalEl.querySelectorAll(FOCUSABLE_SELECTOR))
        .filter(el => !el.hasAttribute('disabled') && el.getAttribute('aria-hidden') !== 'true');
      if (focusables.length === 0) return;

      const first = focusables[0];
      const last = focusables[focusables.length - 1];
      const isShift = e.shiftKey;

      if (isShift && document.activeElement === first) {
        e.preventDefault();
        last.focus();
      } else if (!isShift && document.activeElement === last) {
        e.preventDefault();
        first.focus();
      }
    });

    let mermaidLoadPromise = null;
    const ensureMermaidLoaded = async () => {
      if (window.mermaid) return window.mermaid;
      if (mermaidLoadPromise) return mermaidLoadPromise;

      mermaidLoadPromise = new Promise((resolve, reject) => {
        const script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js';
        script.async = true;
        script.onload = () => {
          try {
            window.mermaid.initialize({
              startOnLoad: false,
              theme: 'neutral',
              securityLevel: 'strict',
            });
            resolve(window.mermaid);
          } catch (err) {
            reject(err);
          }
        };
        script.onerror = () => reject(new Error('Failed to load Mermaid'));
        document.head.appendChild(script);
      });

      return mermaidLoadPromise;
    };

    // --- CV Modal Functionality ---
    const cvModal = document.getElementById("cv-modal");
    const cvButton = document.getElementById("cv-button");
    const cvCloseButton = cvModal.querySelector(".modal-close-button");
    const cvOverlay = cvModal.querySelector(".modal-overlay");

    const openCvModal = () => openDialog(cvModal, cvButton);
    const closeCvModal = () => closeDialog(cvModal);

    cvButton.addEventListener("click", () => openCvModal());
    cvCloseButton.addEventListener("click", () => closeCvModal());
    cvOverlay.addEventListener("click", () => closeCvModal());

    const personas = {
      'software-engineer': {
        title: 'Software Engineer',
        intro: 'Full-stack software engineer architecting high-performance applications with Python, Rust, Go, and JavaScript. Specialized in systems design, cross-platform development, and scalable backend architecture.',
        aboutFocus: 'Full-stack software engineer building robust systems with Python, Rust, Go, and JavaScript. Experienced in cross-platform SDK development, mobile applications, and scalable backend architectures.',
        skills: {
          languages: 'PYTHON, GO, RUST, C/C++, JAVASCRIPT, SWIFT, KOTLIN',
          frameworks: 'FLUTTER, REACT NATIVE, NODE.JS, REACT, MONGODB',
          specializations: 'SOFTWARE ARCHITECTURE, MOBILE/WEB DEVELOPMENT, CROSS-PLATFORM SDK, API DESIGN, CI/CD, DATA STRUCTURES & ALGORITHMS'
        },
        experienceFilter: ['Software Engineer', 'Co-Founder', 'AI Developer'],
        projectLanguages: ['JavaScript', 'TypeScript', 'Go', 'Rust', 'Dart', 'C++', 'C']
      },
      'data-science': {
        title: 'Data Scientist',
        intro: 'Data scientist leveraging statistical methods, machine learning, and data-driven insights to solve complex problems. Proven 80% accuracy improvements through advanced analytics.',
        aboutFocus: 'Data scientist with expertise in statistical analysis, predictive modeling, and machine learning. Skilled in building data-driven web applications and improving prediction accuracy through advanced methods.',
        skills: {
          languages: 'PYTHON, R, SQL, JAVASCRIPT',
          frameworks: 'PYTORCH, TENSORFLOW, PANDAS, SCIKIT-LEARN, MATPLOTLIB',
          specializations: 'STATISTICAL ANALYSIS, PREDICTIVE MODELING, DATA VISUALIZATION, A/B TESTING, FEATURE ENGINEERING, RESEARCH METHODOLOGY'
        },
        experienceFilter: ['Data Scientist', 'AI Developer'],
        projectLanguages: ['Python', 'Jupyter Notebook', 'R']
      },
      'data-engineering': {
        title: 'Data Engineer',
        intro: 'Data engineer building scalable data pipelines and robust infrastructure. Specialized in ETL processes, data collection systems, and real-time data processing.',
        aboutFocus: 'Data engineer experienced in building data collection infrastructure, ETL pipelines, and scalable data systems for low-resource environments.',
        skills: {
          languages: 'PYTHON, GO, SQL, RUST',
          frameworks: 'APACHE SPARK, AIRFLOW, MONGODB, POSTGRESQL',
          specializations: 'ETL PIPELINES, DATA INFRASTRUCTURE, DATA COLLECTION, REAL-TIME PROCESSING, CLOUD COMPUTING, DATABASE OPTIMIZATION'
        },
        experienceFilter: ['Software Engineer', 'Data Scientist'],
        projectLanguages: ['Python', 'Go', 'Rust', 'Shell']
      },
      'ai-engineer': {
        title: 'AI Engineer',
        intro: 'AI engineer architecting on-device AI and intelligent systems. Specialized in model optimization achieving 98% size reduction while maintaining performance.',
        aboutFocus: 'AI engineer specializing in on-device AI, model optimization, and edge deployment. Achieved 98% model size reduction (2GB → 18MB) for offline-capable voice assistants.',
        skills: {
          languages: 'PYTHON, C/C++, RUST, SWIFT, KOTLIN',
          frameworks: 'PYTORCH, TENSORFLOW LITE, ONNX, COREML',
          specializations: 'ON-DEVICE AI, MODEL OPTIMIZATION, EDGE DEPLOYMENT, SPEECH RECOGNITION, COMPUTER VISION, MODEL QUANTIZATION'
        },
        experienceFilter: ['Software Engineer', 'AI Developer'],
        projectLanguages: ['Python', 'C++', 'C', 'Rust', 'Swift', 'Kotlin']
      },
      'ai-ml-software': {
        title: 'AI/ML Software Engineer',
        intro: 'AI/ML software engineer bridging machine learning and production systems. Building end-to-end ML pipelines from research to deployment.',
        aboutFocus: 'AI/ML software engineer with expertise in deploying machine learning models to production. Experienced in building cross-platform ML SDKs and scalable AI systems.',
        skills: {
          languages: 'PYTHON, RUST, GO, C/C++, JAVASCRIPT',
          frameworks: 'PYTORCH, TENSORFLOW, JAX, FLUTTER, REACT NATIVE',
          specializations: 'ML SYSTEMS, MODEL DEPLOYMENT, COMPUTER VISION, NLP, REINFORCEMENT LEARNING, CROSS-PLATFORM SDK'
        },
        experienceFilter: ['Software Engineer', 'AI Developer', 'Data Scientist'],
        projectLanguages: ['Python', 'Jupyter Notebook', 'C++', 'Rust', 'Go']
      },
      'mobile-developer': {
        title: 'Mobile App Developer',
        intro: 'Mobile developer architecting seamless experiences across iOS and Android with Flutter, Swift, and Kotlin. Specialized in on-device AI and high-performance mobile systems.',
        aboutFocus: 'Mobile app developer with a focus on cross-platform and native development. Experienced in integrating on-device AI, optimizing mobile performance, and building intuitive user interfaces.',
        skills: {
          languages: 'SWIFT, KOTLIN, DART, JAVASCRIPT, PYTHON',
          frameworks: 'FLUTTER, REACT NATIVE, SWIFTUI, JETPACK COMPOSE, PYTORCH MOBILE',
          specializations: 'MOBILE ARCHITECTURE, UI/UX DESIGN, ON-DEVICE ML, OFFLINE-FIRST APPS, API INTEGRATION, APP STORE DEPLOYMENT'
        },
        experienceFilter: ['Software Engineer', 'AI Developer'],
        projectLanguages: ['Dart', 'Swift', 'Kotlin', 'JavaScript', 'TypeScript']
      },
      'web-developer': {
        title: 'Web App Developer',
        intro: 'Frontend-focused web developer building modern, responsive applications with React and Next.js. Dedicated to performance, accessibility, and clean architecture.',
        aboutFocus: 'Web app developer experienced in building scalable frontend systems and interactive user experiences. Strong focus on modern web standards and performance optimization.',
        skills: {
          languages: 'JAVASCRIPT, TYPESCRIPT, HTML, CSS, GO',
          frameworks: 'REACT, NEXT.JS, NODE.JS, TAILWIND CSS, VITE',
          specializations: 'FRONTEND ARCHITECTURE, RESPONSIVE DESIGN, WEB PERFORMANCE, SPA/SSR, UI COMPONENTS, WEB SECURITY'
        },
        experienceFilter: ['Software Engineer', 'Co-Founder'],
        projectLanguages: ['JavaScript', 'TypeScript', 'HTML', 'CSS']
      },
      'backend-developer': {
        title: 'Backend Developer',
        intro: 'Backend engineer designing scalable distributed systems and high-throughput APIs with Python, Go, and Rust. Specialized in infrastructure and database optimization.',
        aboutFocus: 'Backend developer focused on robust server-side architecture, API design, and scalable infrastructure. Experienced in microservices, database management, and cloud deployment.',
        skills: {
          languages: 'PYTHON, GO, RUST, C/C++, SQL',
          frameworks: 'NODE.JS, FASTAPI, GIN, DOCKER, KUBERNETES, POSTGRESQL',
          specializations: 'API ARCHITECTURE, DISTRIBUTED SYSTEMS, DATABASE DESIGN, CLOUD COMPUTING, MICROSERVICES, SYSTEM SECURITY'
        },
        experienceFilter: ['Software Engineer', 'Data Engineer'],
        projectLanguages: ['Go', 'Rust', 'Python', 'C++', 'C']
      }
    };

    // Store fetched projects for CV preview
    let cachedProjects = [];

    // CV Preview Modal Elements
    const cvPreviewModal = document.getElementById('cv-preview-modal');
    const cvPreviewContent = document.getElementById('cv-preview-content');
    const cvPreviewTitle = document.getElementById('cv-preview-title');
    const cvPreviewCloseButton = cvPreviewModal.querySelector('.modal-close-button');
    const cvPreviewOverlay = cvPreviewModal.querySelector('.modal-overlay');
    const cvPreviewPrintButton = document.getElementById('cv-preview-print');

    const openCvPreviewModal = (triggerEl) => openDialog(cvPreviewModal, triggerEl);
    const closeCvPreviewModal = () => closeDialog(cvPreviewModal);

    cvPreviewCloseButton.addEventListener('click', () => closeCvPreviewModal());
    cvPreviewOverlay.addEventListener('click', () => closeCvPreviewModal());

    let currentPreviewType = null;

    const generateCvPreview = async (type) => {
      const persona = personas[type];
      if (!persona) return;

      currentPreviewType = type;
      cvPreviewTitle.textContent = `${persona.title} CV Preview`;
      cvPreviewContent.innerHTML = '<p class="loading-text">Generating CV preview...</p>';

      // Get experience items
      const experienceSection = document.getElementById('experience');
      const experienceItems = experienceSection.querySelectorAll('.item');
      let experienceHtml = '';

      experienceItems.forEach(item => {
        const title = item.querySelector('h3')?.textContent || '';
        const matchesFilter = persona.experienceFilter.some(filter => title.toLowerCase().includes(filter.toLowerCase()));
        if (matchesFilter) {
          const dateSpan = item.querySelector('.item-header span')?.textContent || '';
          const description = item.querySelector('p')?.textContent || '';
          experienceHtml += `
            <div class="cv-preview-item">
              <div class="cv-preview-item-header">
                <strong>${title}</strong>
                <span>${dateSpan}</span>
              </div>
              <p>${description}</p>
            </div>
          `;
        }
      });

      // Fetch projects if not cached
      if (cachedProjects.length === 0) {
        try {
          const githubApiUrl = `https://api.github.com/users/jeffasante/repos?sort=updated&direction=desc&per_page=100`;
          const response = await fetch(githubApiUrl);
          if (response.ok) {
            cachedProjects = await response.json();
          }
        } catch (e) {
          console.error('Failed to fetch projects for CV:', e);
        }
      }

      // Filter projects by language for the track
      const filteredProjects = cachedProjects
        .filter(repo => {
          if (!repo.language) return false;
          return persona.projectLanguages.some(lang => 
            repo.language.toLowerCase() === lang.toLowerCase()
          );
        })
        .filter(repo => repo.name.toLowerCase() !== 'jeffasante.github.io')
        .slice(0, 5);

      let projectsHtml = '';
      filteredProjects.forEach(repo => {
        const desc = repo.description || 'No description available.';
        projectsHtml += `
          <div class="cv-preview-item">
            <div class="cv-preview-item-header">
              <strong>${repo.name}</strong>
              <span>${repo.language || 'N/A'}</span>
            </div>
            <p>${desc}</p>
          </div>
        `;
      });

      // Build preview HTML
      cvPreviewContent.innerHTML = `
        <div class="cv-preview-section cv-preview-header-section">
          <h1>Jeffrey Oduro Asante</h1>
          <p class="cv-preview-subtitle">${persona.title}</p>
          <p class="cv-preview-contact">jeffaoduro@gmail.com • github.com/jeffasante • Ghana (Remote)</p>
        </div>

        <div class="cv-preview-section">
          <h3>Summary</h3>
          <p>${persona.aboutFocus}</p>
        </div>

        <div class="cv-preview-section">
          <h3>Technical Skills</h3>
          <p><strong>Languages:</strong> ${persona.skills.languages}</p>
          <p><strong>Frameworks:</strong> ${persona.skills.frameworks}</p>
          <p><strong>Specializations:</strong> ${persona.skills.specializations}</p>
        </div>

        <div class="cv-preview-section">
          <h3>Experience</h3>
          ${experienceHtml}
        </div>

        <div class="cv-preview-section">
          <h3>Projects</h3>
          ${projectsHtml || '<p>Loading projects...</p>'}
        </div>
      `;
    };

    cvPreviewPrintButton.addEventListener('click', () => {
      const printWindow = window.open('', '_blank');
      printWindow.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>${personas[currentPreviewType]?.title || 'CV'} - Jeffrey Asante</title>
          <style>
            @page { 
              size: A4; 
              margin: 10mm 15mm; 
            }
            * { box-sizing: border-box; margin: 0; padding: 0; }
            body { 
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
              font-size: 8pt; 
              line-height: 1.3; 
              color: #000; 
              max-width: 100%; 
              padding: 0;
            }
            h1 { font-size: 14pt; margin-bottom: 2px; font-weight: 600; }
            h3 { 
              font-size: 8pt; 
              text-transform: uppercase; 
              letter-spacing: 0.08em; 
              border-bottom: 0.5pt solid #999; 
              padding-bottom: 2px; 
              margin: 8px 0 4px 0;
              font-weight: 600;
            }
            .cv-preview-header-section { 
              text-align: center; 
              border-bottom: 1pt solid #000; 
              padding-bottom: 6px; 
              margin-bottom: 6px;
            }
            .cv-preview-subtitle { font-size: 10pt; color: #333; margin: 2px 0; font-weight: 500; }
            .cv-preview-contact { font-size: 7pt; color: #555; margin-top: 3px; }
            .cv-preview-section { margin-bottom: 4px; }
            .cv-preview-section p { font-size: 7.5pt; line-height: 1.35; margin: 2px 0; color: #222; }
            .cv-preview-section strong { font-weight: 600; }
            .cv-preview-item { margin-bottom: 5px; }
            .cv-preview-item-header { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 1px; }
            .cv-preview-item-header strong { font-size: 8pt; font-weight: 600; }
            .cv-preview-item-header span { font-size: 7pt; color: #555; }
            .cv-preview-item p { font-size: 7pt; color: #333; margin: 0; line-height: 1.3; }
            @media print {
              body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            }
          </style>
        </head>
        <body>
          ${cvPreviewContent.innerHTML}
        </body>
        </html>
      `);
      printWindow.document.close();
      printWindow.focus();
      setTimeout(() => { printWindow.print(); printWindow.close(); }, 250);
    });

    // Use event delegation for CV actions
    cvModal.addEventListener('click', async (e) => {
      if (e.target.classList.contains('cv-action-btn')) {
        const triggerEl = e.target;
        const type = e.target.dataset.type;
        const isPreview = e.target.classList.contains('preview');

        closeCvModal();

        if (isPreview) {
          openCvPreviewModal(triggerEl);
          await generateCvPreview(type);
        } else {
          // Direct print
          openCvPreviewModal(triggerEl);
          await generateCvPreview(type);
          setTimeout(() => cvPreviewPrintButton.click(), 500);
        }
      }
    });

    // --- GitHub Projects Modal Functionality ---
    const modal = document.getElementById("project-modal");
    const openButton = document.getElementById("view-projects-button");
    const closeButton = modal.querySelector(".modal-close-button");
    const overlay = modal.querySelector(".modal-overlay");
    const projectListContainer =
      document.getElementById("modal-project-list");

    const githubUsername = "jeffasante";
    const githubApiUrl = `https://api.github.com/users/${githubUsername}/repos?sort=updated&direction=desc&per_page=100`;

    const openProjectModal = () => openDialog(modal, openButton);
    const closeProjectModal = () => closeDialog(modal);

    const REPOS_CACHE_KEY = `github_repos_${githubUsername}_v2`;
    const REPOS_CACHE_MAX_AGE_MS = 1000 * 60 * 30; // 30 minutes

    let reposCache = null;
    const fetchAllRepos = async () => {
      if (reposCache) return reposCache;

      const cached = getCachedValue(REPOS_CACHE_KEY, REPOS_CACHE_MAX_AGE_MS);
      if (Array.isArray(cached)) {
        reposCache = cached;
        return reposCache;
      }

      const allReposTemp = [];
      for (let page = 1; page <= 10; page++) {
        const response = await fetch(`${githubApiUrl}&page=${page}`);
        if (!response.ok) throw new Error(`GitHub API Error: ${response.status}`);
        const repos = await response.json();
        if (!Array.isArray(repos) || repos.length === 0) break;
        allReposTemp.push(...repos);
      }

      reposCache = allReposTemp;
      setCachedValue(REPOS_CACHE_KEY, reposCache);
      return reposCache;
    };

    const loadFeaturedProjects = async () => {
      const featuredContainer = document.getElementById("featured-projects-list");

      try {
        const repos = await fetchAllRepos();

        // Get top 5 by stars/forks, then top 5 most recent from the rest
        const filteredRepos = repos.filter(repo => repo.name.toLowerCase() !== 'jeffasante.github.io' && repo.name.toLowerCase() !== 'employee-time-tracker' && repo.name.toLowerCase() !== 'skincare-analysis-api');
        const sortedByPopularity = filteredRepos
          .sort((a, b) => {
            if (b.stargazers_count !== a.stargazers_count) {
              return b.stargazers_count - a.stargazers_count;
            }
            return b.forks_count - a.forks_count;
          });
        const topPopular = sortedByPopularity.slice(0, 5);
        const remainingRepos = filteredRepos.filter(repo => !topPopular.includes(repo));
        const topRecent = remainingRepos
          .sort((a, b) => new Date(b.updated_at) - new Date(a.updated_at))
          .slice(0, 5);
        const featuredRepos = [...topPopular, ...topRecent];

        featuredContainer.innerHTML = ""; // Clear loading text

        if (featuredRepos.length === 0) {
          featuredContainer.innerHTML = "<p>No projects found.</p>";
          return;
        }

        featuredRepos.forEach((repo) => {
          const projectItem = document.createElement("div");
          projectItem.className = "item";

          const description = repo.description || "No description provided.";
          const language = repo.language || "N/A";

          let linksHtml = `
              <a
                class="item-link"
                href="${repo.html_url}"
                target="_blank"
                rel="noopener noreferrer"
                >VIEW SOURCE →</a
              >
              <button class="readme-button" data-repo="${repo.full_name}">README</button>
            `;

          // Add demo links for specific projects
          if (repo.name.toLowerCase() === 'wasm-inspector') {
            linksHtml = `
                <a
                  class="item-link"
                  href="https://jeffasante.github.io/wasm-inspector/"
                  target="_blank"
                  rel="noopener noreferrer"
                  >DEMO →</a
                >
                <a
                  class="item-link"
                  href="${repo.html_url}"
                  target="_blank"
                  rel="noopener noreferrer"
                  >VIEW SOURCE →</a
                >
                <button class="readme-button" data-repo="${repo.full_name}">README</button>
              `;
          } else if (repo.name.toLowerCase() === 'torpedo') {
            linksHtml = `
                <a
                  class="item-link"
                  href="https://jeffasante.github.io/torpedo/web/"
                  target="_blank"
                  rel="noopener noreferrer"
                  >DEMO →</a
                >
                <a
                  class="item-link"
                  href="${repo.html_url}"
                  target="_blank"
                  rel="noopener noreferrer"
                  >VIEW SOURCE →</a
                >
                <button class="readme-button" data-repo="${repo.full_name}">README</button>
              `;
          } else if (repo.name.toLowerCase() === 'flowstate-research') {
            linksHtml = `
                <a
                  class="item-link"
                  href="https://jeffasante.github.io/FlowState-research/"
                  target="_blank"
                  rel="noopener noreferrer"
                  >DEMO →</a
                >
                <a
                  class="item-link"
                  href="${repo.html_url}"
                  target="_blank"
                  rel="noopener noreferrer"
                  >VIEW SOURCE →</a
                >
                <button class="readme-button" data-repo="${repo.full_name}">README</button>
              `;
          }

          projectItem.innerHTML = `
              <div class="item-header">
                <h3>${repo.name}</h3>
                <div class="tags">${language.toUpperCase()}</div>
              </div>
              <p>${description}</p>
              ${linksHtml}
            `;
          featuredContainer.appendChild(projectItem);
        });

        // Add click handlers for README buttons
        document.querySelectorAll('.readme-button').forEach(button => {
          button.addEventListener('click', async (e) => {
            const repoFullName = e.currentTarget.dataset.repo;
            await showReadmeModal(repoFullName, e.currentTarget);
          });
        });
      } catch (error) {
        console.error("Failed to load featured projects:", error);
        if (error.message.includes("403")) {
          featuredContainer.innerHTML = '<p class="error-text">Unable to load projects due to GitHub API rate limit. Please try again later.</p>';
        } else {
          featuredContainer.innerHTML = '<p class="error-text">Failed to load featured projects. Please try again later.</p>';
        }
      }
    };

    let allRepos = [];
    let filteredRepos = [];
    let currentPage = 1;
    const itemsPerPage = 10;

    const displayPage = (page) => {
      const startIndex = (page - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const reposToDisplay = filteredRepos.slice(startIndex, endIndex);

      projectListContainer.innerHTML = ""; // Clear current items

      reposToDisplay.forEach((repo) => {
        const projectItem = document.createElement("div");
        projectItem.className = "modal-project-item";

        const description = repo.description || "No description provided.";
        const language = repo.language || "N/A";

        projectItem.innerHTML = `
                      <div class="item-header">
                          <h3><a href="${repo.html_url}" target="_blank" rel="noopener noreferrer">${repo.name}</a></h3>
                          <span>★ ${repo.stargazers_count}</span>
                      </div>
                      <p>${description}</p>
                      <div class="tags">${language}</div>
                      <button class="readme-button" data-repo="${repo.full_name}">README</button>
                  `;
        projectListContainer.appendChild(projectItem);
      });

      // Update pagination info
      const totalPages = Math.ceil(filteredRepos.length / itemsPerPage);
      document.getElementById("page-info").textContent = `Page ${page} of ${totalPages}`;
      document.getElementById("prev-page").disabled = page === 1;
      document.getElementById("next-page").disabled = page === totalPages;

      // Add click handlers for README buttons
      document.querySelectorAll('.readme-button').forEach(button => {
        button.addEventListener('click', async (e) => {
          const repoFullName = e.currentTarget.dataset.repo;
          await showReadmeModal(repoFullName, e.currentTarget);
        });
      });
    };

    const fetchAndDisplayProjects = async () => {
      projectListContainer.innerHTML =
        '<p class="loading-text">Loading projects...</p>';
      openProjectModal();

      try {
        allRepos = await fetchAllRepos();
        // Sort by most recent initially
        allRepos.sort((a, b) => new Date(b.updated_at) - new Date(a.updated_at));
        filteredRepos = [...allRepos];

        if (allRepos.length === 0) {
          projectListContainer.innerHTML = "<p>No projects found.</p>";
          return;
        }

        // Populate language filter
        const languages = [...new Set(allRepos.map(repo => repo.language).filter(lang => lang))].sort();
        const filterSelect = document.getElementById("language-filter");
        filterSelect.innerHTML = '<option value="">All Languages</option>';
        languages.forEach(lang => {
          const option = document.createElement("option");
          option.value = lang;
          option.textContent = lang;
          filterSelect.appendChild(option);
        });

        currentPage = 1;
        displayPage(currentPage);
      } catch (error) {
        console.error("Failed to fetch projects:", error);
        if (error.message.includes("403")) {
          projectListContainer.innerHTML = '<p class="error-text">Unable to load projects due to GitHub API rate limit. Please try again later.</p>';
        } else {
          projectListContainer.innerHTML = '<p class="error-text">Failed to load projects. Please try again later.</p>';
        }
      }
    };

    // Load featured projects on page load
    loadFeaturedProjects();

    openButton.addEventListener("click", fetchAndDisplayProjects);
    closeButton.addEventListener("click", closeProjectModal);
    overlay.addEventListener("click", closeProjectModal);

    const applyFilter = () => {
      const selectedLanguage = document.getElementById("language-filter").value;
      const selectedSort = document.getElementById("sort-filter").value;

      let filtered = allRepos.filter(repo => !selectedLanguage || repo.language === selectedLanguage);

      if (selectedSort === "stars") {
        filtered = filtered.sort((a, b) => b.stargazers_count - a.stargazers_count);
      } else if (selectedSort === "forks") {
        filtered = filtered.sort((a, b) => b.forks_count - a.forks_count);
      } else {
        // Most Recent - already sorted by updated from API
        filtered = filtered.sort((a, b) => new Date(b.updated_at) - new Date(a.updated_at));
      }

      filteredRepos = filtered;
      currentPage = 1;
      displayPage(currentPage);
    };

    // Pagination event listeners
    document.getElementById("prev-page").addEventListener("click", () => {
      if (currentPage > 1) {
        currentPage--;
        displayPage(currentPage);
      }
    });
    document.getElementById("next-page").addEventListener("click", () => {
      const totalPages = Math.ceil(filteredRepos.length / itemsPerPage);
      if (currentPage < totalPages) {
        currentPage++;
        displayPage(currentPage);
      }
    });

    // Filter event listeners
    document.getElementById("language-filter").addEventListener("change", applyFilter);
    document.getElementById("sort-filter").addEventListener("change", applyFilter);

    // --- README Modal Functionality ---
    const readmeModal = document.getElementById("readme-modal");
    const readmeCloseButton = readmeModal.querySelector(".modal-close-button");
    const readmeOverlay = readmeModal.querySelector(".modal-overlay");
    const readmeContentDiv = document.getElementById("readme-modal-content");
    const readmeTitle = document.getElementById("readme-modal-title");

    const openReadmeModal = (triggerEl) => openDialog(readmeModal, triggerEl);
    const closeReadmeModal = () => closeDialog(readmeModal);

    readmeCloseButton.addEventListener("click", () => closeReadmeModal());
    readmeOverlay.addEventListener("click", () => closeReadmeModal());

    const README_CACHE_MAX_AGE_MS = 1000 * 60 * 60 * 24; // 24 hours
    const showReadmeModal = async (repoFullName, triggerEl) => {
      readmeTitle.textContent = `${repoFullName} - README`;
      readmeContentDiv.innerHTML = '<p class="loading-text">Loading README...</p>';
      openReadmeModal(triggerEl);

      try {
        const repos = await fetchAllRepos();
        const repoInfo = repos.find(r => r.full_name === repoFullName);
        const defaultBranch = repoInfo?.default_branch || 'main';

        const readmeCacheKey = `github_readme_html_${repoFullName}_${defaultBranch}_v1`;
        const cachedReadme = getCachedValue(readmeCacheKey, README_CACHE_MAX_AGE_MS);

        let readmeHtml = typeof cachedReadme === 'string' ? cachedReadme : null;
        if (!readmeHtml) {
          // Fetch README from GitHub API
          const readmeUrl = `https://api.github.com/repos/${repoFullName}/readme`;
          const response = await fetch(readmeUrl, {
            headers: {
              'Accept': 'application/vnd.github.v3.html'
            }
          });

          if (!response.ok) {
            throw new Error(`GitHub API Error: ${response.status}`);
          }

          readmeHtml = await response.text();
          setCachedValue(readmeCacheKey, readmeHtml);
        }

        // Create a temporary div to parse and fix the HTML
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = readmeHtml;

        // Fix all image sources to use absolute GitHub URLs with the correct default branch
        const images = tempDiv.querySelectorAll('img');
        images.forEach(img => {
          const src = img.getAttribute('src');
          img.setAttribute('loading', 'lazy');
          img.setAttribute('decoding', 'async');
          if (!img.hasAttribute('alt')) img.setAttribute('alt', '');
          if (src) {
            // If the image path is relative or starts with certain patterns
            if (!src.startsWith('http://') && !src.startsWith('https://')) {
              // Convert to absolute GitHub raw URL using the default branch
              const cleanSrc = src.startsWith('/') ? src.substring(1) : src;
              img.setAttribute('src', `https://raw.githubusercontent.com/${repoFullName}/${defaultBranch}/${cleanSrc}`);
            } else if (src.includes('/blob/')) {
              // Convert GitHub blob URLs to raw URLs
              img.setAttribute('src', src.replace('/blob/', '/raw/'));
            } else if (src.startsWith('/')) {
              // Handle absolute paths that are relative to github.com
              img.setAttribute('src', `https://github.com${src}`);
            }
          }
        });

        // Fix all anchor links that might be relative
        const links = tempDiv.querySelectorAll('a');
        links.forEach(link => {
          const href = link.getAttribute('href');
          if (href && !href.startsWith('http://') && !href.startsWith('https://') && !href.startsWith('#')) {
            if (href.startsWith('/')) {
              link.setAttribute('href', `https://github.com${href}`);
            } else {
              link.setAttribute('href', `https://github.com/${repoFullName}/blob/${defaultBranch}/${href}`);
            }
          }
          // Make external links open in new tab
          if (href && (href.startsWith('http://') || href.startsWith('https://'))) {
            link.setAttribute('target', '_blank');
            link.setAttribute('rel', 'noopener noreferrer');
          }
        });

        // Fix Mermaid diagrams
        const mermaidBlocks = tempDiv.querySelectorAll('.highlight-source-mermaid pre, pre[lang="mermaid"]');
        mermaidBlocks.forEach(block => {
          const div = document.createElement('div');
          div.className = 'mermaid';
          div.textContent = block.textContent;
          // If it is github style .highlight-source-mermaid pre
          if (block.parentElement.classList.contains('highlight')) {
            block.parentElement.replaceWith(div);
          } else {
            block.replaceWith(div);
          }
        });

        readmeContentDiv.innerHTML = tempDiv.innerHTML;

        // Initialize mermaid for the new content
        if (tempDiv.querySelector('.mermaid')) {
          try {
            await ensureMermaidLoaded();
            await window.mermaid.run({
              nodes: readmeContentDiv.querySelectorAll('.mermaid')
            });
          } catch (err) {
            console.error('Failed to render Mermaid diagrams:', err);
          }
        }
      } catch (error) {
        console.error("Failed to load README:", error);
        if (error.message.includes("403")) {
          readmeContentDiv.innerHTML = '<p class="error-text">Unable to load README due to GitHub API rate limit. Please try again later.</p>';
        } else {
          readmeContentDiv.innerHTML = '<p class="error-text">Failed to load README. This repository may not have a README file.</p>';
        }
      }
    };
  </script>

  <script>
    // Visitor count - commented out due to SSL issues
    // fetch('https://api.countapi.xyz/hit/jeffasante.github.io/visits')
    //   .then(res => res.json())
    //   .then(data => {
    //     const visitorEl = document.getElementById('visitor-count');
    //     if (visitorEl) visitorEl.innerText = data.value;
    //   })
    //   .catch(err => {
    //     const visitorEl = document.getElementById('visitor-count');
    //     if (visitorEl) visitorEl.innerText = 'N/A';
    //   });
  </script>
</body>

</html>
